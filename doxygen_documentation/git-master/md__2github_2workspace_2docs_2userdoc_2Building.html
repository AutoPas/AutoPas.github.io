<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AutoPas</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="https://raw.githubusercontent.com/AutoPas/AutoPas/master/docs/graphics/AutoPasLogo_Small.svg">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript">
    function doOnLoad() {
        if (!window.location.href.startsWith("file://")) {
            // this is only done if we are on an actual webserver, where we expect to have ../autopas_onpageload.js
            var script = document.createElement('script');
            script.onload = function () {
                on_page_load();
            };
            script.src = "../onpageload.js";
            document.head.appendChild(script); //or something of the likes
        } else {
            var version_selector = document.getElementById("autopas_version_selector");
            var option = document.createElement("option");
            option.text = "local";
            option.value = "local";
            version_selector.appendChild(option);
        }
    }
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body onload="doOnLoad()">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="main_selector">
    </div>
	<!--BEGIN VERSION INFO-->
	<div id="version_selector">
        <label for="autopas_version_selector">Version:</label>
        <select id="autopas_version_selector">
        </select>
	</div>
	<!--END VERSION INFO-->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><a href="https://autopas.github.io/"><img style="height: 56px;" alt="AutoPas" src="AutoPasLogo_Large.svg"/></a>
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
  </td>
     <td style="float:right"><div id="githublink"><a href="https://github.com/AutoPas/AutoPas"><img border="0" alt="GitHub" src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" height="56px"></a></div></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Building AutoPas </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md7"></a> </p>
<h1><a class="anchor" id="autotoc_md8"></a>
Requirements</h1>
<ul>
<li>CMake 3.14 or newer</li>
<li>a CMake generator target (<code>make</code> is tested)</li>
<li>a C++20 compiler (gcc11, clang13, and <strike>icpc 2019</strike> are tested)</li>
<li>OpenMP (comes with GCC, for Clang you need <code>libomp</code>)</li>
</ul>
<p>Optional:</p><ul>
<li>For <code>tuningLogToSQL</code>: <code>libsqlite3</code></li>
<li>For rule based tuning and fuzzy tuning: <code>pkg-config</code>. By default, rule based tuning and fuzzy tuning are disabled but can be enabled via the CMake (see <a class="el" href="md__2github_2workspace_2docs_2userdoc_2Building.html#rules-based-tuning-fuzzy-tuning">below</a>)</li>
</ul>
<p>There are a few more dependencies, however you don't need to install them because they come bundled with AutoPas. See <a href="/libs">libs/</a> for a complete list.</p>
<p>If you insist on using your locally installed version of any of them, set the CMake variable <code>&lt;LIBNAME&gt;_ForceBundled=OFF</code></p>
<h1><a class="anchor" id="autotoc_md9"></a>
Build Instructions</h1>
<p>Create a build directory and run the default CMake-based build workflow: </p><div class="fragment"><div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake ..    # Better: use the interactive version ccmake</div>
<div class="line">cmake --build .</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md10"></a>
Faster Compilation</h2>
<p>It is highly recommended to only build the target you need instead of all default targets. E.g. The following CMake features are highly recommended to keep compile time and system load to the necessary minimum:</p><ul>
<li>Only build the target you need</li>
<li>Use multiple threads for compilation. How many threads you should use depends on how many threads your CPU supports and how much RAM you have available.</li>
<li>Clang tends to use significantly less RAM per thread, thus enabling more parallelism</li>
</ul>
<p>Here is an example of a parallel compilation of the md-flexible example: </p><div class="fragment"><div class="line">cmake --build . --target md-flexible --parallel 12</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md11"></a>
Enabling Rules-Based Tuning and Fuzzy Tuning</h2>
<p><a class="anchor" id="rules-based-tuning-fuzzy-tuning"></a></p>
<p>Two of the possible tuning strategies of AutoPas, rules-based tuning and fuzzy-tuning, require dependencies <code>antlr4cpp</code> and <code>uuid</code>. These are bundled with AutoPas, but can take some time to compile and, in some rare cases, lead to compilation errors. As such, by default, rule based tuning is disabled, and <code>antlr4cpp</code> and <code>uuid</code> are not compiled.</p>
<p>Both tuning strategies can be enabled via the CMake option: </p><div class="fragment"><div class="line">cmake -DAUTOPAS_ENABLE_RULES_BASED_AND_FUZZY_TUNING=ON .. </div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md12"></a>
Energy Measurements and Tuning</h2>
<p>By default, AutoPas tunes for the best configuration according to runtime. For all Linux based systems, it is also possible to tune for the algorithm that consumes the least energy. This is implemented via <a href="https://git.astron.nl/RD/pmt">PMT</a> with customization carried out to remove performance overhead in energy measurements. The changes with respect to parent repository can be found in <code>AutoPas/libs/patches/patch-file-pmt-for-autopas.patch</code>, and detail on the reason behind the changes can be found in the <a href="https://mediatum.ub.tum.de/doc/1760019/1760019.pdf">bachelor's thesis</a> by Maximilian Praus. In the current version, energy consumption can be measured via Intel's RAPL or with LIKWID. RAPL is set as the default sensor and is forced to compile always.</p>
<p>To use energy tuning, energy measurements must be enabled using the CMake option: </p><div class="fragment"><div class="line">cmake -DAUTOPAS_ENABLE_ENERGY_MEASUREMENTS=ON .. </div>
</div><!-- fragment --><p>The RAPL sensor is forcibly enabled by AutoPas by forcing the cmake option <code>PMT_BUILD_RAPL</code> to <code>ON</code>. However, other available sensors like <code>LIKWID</code> can also be used by separately compiling them using the CMake option: </p><div class="fragment"><div class="line">cmake -DPMT_BUILD_LIKWID=ON .. </div>
</div><!-- fragment --><p> Note that user must have <code>LIKWID</code> installed before enabling this option. Additionally, an energy sensor used for measurement needs to be selected during runtime by specifying the option <code>energy-sensor</code> in the input file. The default is set to <code>rapl</code> and will be used when no option is specified. However, when multiple sensors are compiled, user can choose any of the available sensors by specifying the <code>energy-sensor</code> option.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
Select a Non-Default Compiler</h2>
<p>If you want to use a different compiler than your system default, change the <code>CC</code> and <code>CXX</code> environment variables during initial configuration AND building: </p><div class="fragment"><div class="line">CC=clang CXX=clang++ cmake ..</div>
<div class="line">CC=clang CXX=clang++ cmake --build .</div>
</div><!-- fragment --><p>This assumes <code>clang</code> and <code>clang++</code> is in your search path. Otherwise, specify the full path e.g. <code>/usr/bin/clang</code> or wherever your clang is kept.</p>
<p>Explicitly selecting the compiler is very often especially important when compiling on a cluster!</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Profiling Compilation Time</h1>
<p>AutoPas offers easy access to compiler-based compile-time profiling for GCC and Clang via the CMake option <code>AUTOPAS_COMPILE_TIME_PROFILING</code>. This generates one <code>.json</code> file per compilation unit next to the generated object file deep in the build folder. Chrome has a built-in tool for viewing these files as flame graphs. It can be accessed through the URL <code>chrome://tracing</code>.</p>
<h1><a class="anchor" id="autotoc_md15"></a>
Related Files and Folders</h1>
<ul>
<li>cmake/</li>
<li>CMakeLists.txt </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
